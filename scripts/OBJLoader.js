THREE.OBJLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.OBJLoader.prototype={constructor:THREE.OBJLoader,load:function(e,t,r,n){var a=this,o=new THREE.XHRLoader(a.manager);o.setCrossOrigin(this.crossOrigin),o.load(e,function(e){t(a.parse(e))},r,n)},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){function t(e){var t=parseInt(e);return 3*(t>=0?t-1:t+m.length/3)}function r(e){var t=parseInt(e);return 3*(t>=0?t-1:t+E.length/3)}function n(e){var t=parseInt(e);return 2*(t>=0?t-1:t+c.length/2)}function a(e,t,r){l.vertices.push(m[e],m[e+1],m[e+2],m[t],m[t+1],m[t+2],m[r],m[r+1],m[r+2])}function o(e,t,r){l.normals.push(E[e],E[e+1],E[e+2],E[t],E[t+1],E[t+2],E[r],E[r+1],E[r+2])}function d(e,t,r){l.uvs.push(c[e],c[e+1],c[t],c[t+1],c[r],c[r+1])}function s(e,s,i,l,u,v,m,E,c,f,p,g){var h,H=t(e),R=t(s),T=t(i);void 0===l?a(H,R,T):(h=t(l),a(H,R,h),a(R,T,h)),void 0!==u&&(H=n(u),R=n(v),T=n(m),void 0===l?d(H,R,T):(h=n(E),d(H,R,h),d(R,T,h))),void 0!==c&&(H=r(c),R=r(f),T=r(p),void 0===l?o(H,R,T):(h=r(g),o(H,R,h),o(R,T,h)))}console.time("OBJLoader");var i,l,u,v=[];/^o /gm.test(e)===!1&&(l={vertices:[],normals:[],uvs:[]},u={name:""},i={name:"",geometry:l,material:u},v.push(i));for(var m=[],E=[],c=[],f=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,p=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,g=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,h=/f( +-?\d+)( +-?\d+)( +-?\d+)( +-?\d+)?/,H=/f( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))?/,R=/f( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))?/,T=/f( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))?/,b=e.split("\n"),w=0;w<b.length;w++){var F=b[w];F=F.trim();var A;0!==F.length&&"#"!==F.charAt(0)&&(null!==(A=f.exec(F))?m.push(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3])):null!==(A=p.exec(F))?E.push(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3])):null!==(A=g.exec(F))?c.push(parseFloat(A[1]),parseFloat(A[2])):null!==(A=h.exec(F))?s(A[1],A[2],A[3],A[4]):null!==(A=H.exec(F))?s(A[2],A[5],A[8],A[11],A[3],A[6],A[9],A[12]):null!==(A=R.exec(F))?s(A[2],A[6],A[10],A[14],A[3],A[7],A[11],A[15],A[4],A[8],A[12],A[16]):null!==(A=T.exec(F))?s(A[2],A[5],A[8],A[11],void 0,void 0,void 0,void 0,A[3],A[6],A[9],A[12]):/^o /.test(F)?(l={vertices:[],normals:[],uvs:[]},u={name:""},i={name:F.substring(2).trim(),geometry:l,material:u},v.push(i)):/^g /.test(F)||(/^usemtl /.test(F)?u.name=F.substring(7).trim():/^mtllib /.test(F)||/^s /.test(F)))}for(var O=new THREE.Object3D,w=0,B=v.length;B>w;w++){i=v[w],l=i.geometry;var y=new THREE.BufferGeometry;y.addAttribute("position",new THREE.BufferAttribute(new Float32Array(l.vertices),3)),l.normals.length>0&&y.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(l.normals),3)),l.uvs.length>0&&y.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(l.uvs),2)),u=new THREE.MeshLambertMaterial,u.name=i.material.name;var L=new THREE.Mesh(y,u);L.name=i.name,O.add(L)}return console.timeEnd("OBJLoader"),O}};